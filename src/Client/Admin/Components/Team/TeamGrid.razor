@using Shared.Users.Doctors.Employees;


<RadzenButton ButtonStyle="ButtonStyle.Success" Icon="add_circle_outline" class="mt-2 mb-4" Text="Voeg nieuw teamlid toe" />
<RadzenDataGrid @ref="employeeGrid" GridLines="Radzen.DataGridGridLines.Vertical" AllowAlternatingRows="true" AllowPaging="true" PageSize="3" AllowSorting="true" Data="@employees" TItem="EmployeeDto.Index" ColumnWidth="200px">
    <Columns>
        <RadzenDataGridColumn TItem="EmployeeDto.Index" Property="Id" Title="ID" Width="50px" />
        <RadzenDataGridColumn TItem="EmployeeDto.Index" Title="Naam">
            <Template Context="employee"> 
                @employee.Firstname @employee.Lastname
            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="EmployeeDto.Index" Property="Email" Title="Email" Width="50px" />
        <RadzenDataGridColumn TItem="EmployeeDto.Index">
            <Template Context="employee">
                @if (UserExists(employee.Email)) {
                    if (GetRole(employee.Email) == "Administrator")
                    {
                        <RadzenButton Click="@(() => ChangeRole(employee.Email))">Verwijder adminrechten</RadzenButton>
                    }
                    else
                    {
                        <RadzenButton Click="@(() => ChangeRole(employee.Email))">Geef adminrechten</RadzenButton>
                    }
                }
                else
                {
                    <RadzenButton Click="@(() => MakeUser(employee.Email))">Add User to Authorization</RadzenButton>
                }
            </Template>
        </RadzenDataGridColumn>
    </Columns>
</RadzenDataGrid>